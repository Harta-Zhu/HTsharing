# 关于Debian使用总结

## 一、Linux软件归整

- 网页浏览：Chrome浏览器、EDGE浏览器

- 代码编辑：VIM、VScode

- 日常办公：永中Office、LibreOffice、Outlook、Evince、Marktext、Workflowy、Ishell

- 阅读工具：Foliate

- 音频播放：AIMP

- 视频工具：Shotcut

- 互联沟通：QQ、微信、Skype

## 二、Debian设置

### 1、Debian文本和图形模式切换方法：

查看当前的默认目标：systemctl get-default

设置为（命令行）多用户文本模式启动：systemctl set-default multi-user.target

设置为（GUI）图形界面模式启动：systemctl set-default isolate graphical

立即进入多用户文本模式：systemctl isolate multi-user

### 2、预习的支持

终端机接口(terminal)在默认的情况下，无法支持以中文编码输出数据，在这个时候，需要将语系修改为英文，才能以英文显示出正确的信息。

echo $LANG #显示挡圈的语系
LANG-en_US #注意上面的命令中没有空格，意为修改当前的语系为英文

### 3、正确的关机方法
在Linux底下，由于每个程序或者说服务都是在背景下运行的，因此，在你看不到的屏幕背后其实可能有相当多人同时在你的主机上面工作，例如浏览网页、传送信件、FTP传送文件等等，如果直接按下电源开关来关机时，则其他人的数据可能就此中断。

此外，最大的问题是，若不正常关机，则可能造成文件系统的损毁（因为来不及将数据回写到文件中，所以有些服务的文件会有问题！）。正常情况下，要关机时需要注意以下几件事情：

- 观察系统使用的状态：如果要看目前如果要看目前有谁在在线，可以下达『who』这个命令，而如果要看网络的联机状态，可以下达 『 netstat -a 』这个命令，而要看背景运行的程序可以运行『 ps -aux 』这个命令。使用这些命令可以让你稍微了解主机目前的使用状态！当然啰，就可以让你判断是否可以关机了 （这些命令在后面 Linux 常用命令中会提及喔！）

- 通知在线使用者关机的时刻：要关机前总得给在线的使用者一些时间来结束他们的工作，所以，这个时候你可以使用 shutdown 的特别命令来达到此一功能。
- 正确的关机命令使用：例如 shutdown 与 reboot 两个命令！

所以底下我们就来谈一谈几个与关机 / 重新启动相关的命令啰！

- 将数据同步写入硬盘中的命令： sync
- 惯用的关机命令： shutdown
- 重新启动，关机： reboot, halt, poweroff

### 4、数据同步写入磁盘：sync
所有的数据都得要被读入内存后才能北CPU所处理，但是数据常常需要由内存写回硬盘当中（例如存储的动作）。由于硬盘的速度太慢（相当于内存来说），如果常常让数据在内存和硬盘中来回写入/读出，系统的效能就不会太好。

因此在Linux系统中，为了加快数据的读取速度，所以在默认的情况下，某些已经加载在内存中的数据将不会直接被写回硬盘，而是先缓存在内存当中，如此一来，如果一个数据被你重新的改写，那么由于它尚未北写入硬盘中，因此可以直接由内存当中读取出来，在速度上一定是快上相当多的。

不过，如此一来也造成些许的困扰，那就是万一你的系统因为某些特殊情况造成不正常关机（例如停电或者是不小心按到电源键）时，由于数据尚未被写入硬盘当中，就会造成数据的升级不正常，这个时候就需要sync这个命令来进行数据的写入，直接在文字接口输入sync，在内存中尚未被升级的数据，就会直接被写入硬盘中。所以，这个命令在系统关机或重新启动中很重要，最好多运行几次。

### 5、惯用的关机命令：shutdown
关机权限只有root权限能进行。shutdown这个命令会通知系统内的各个程序（processes）,并且将通知系统中的run-level内的一些服务关闭。shutdown可以达成如下的工作：
- 可以自由选择关机模式：是要关机、重新启动还是进入单人操作模式均可；
- 可以配置关机时间：可以配制成现在立即关机，也可以配置某一个特定的时间来关机；
- 可以自定义关机信息：在关机之前，可以将自己配置的信息传送给在线的user；
- 可以仅发出警告信息：有时有可能需要进行一些测试，而不想让其他的使用者打扰，或者是明白的告诉使用者某段时间要注意以下！这个时候可以使用shutdown来吓一吓使用者，但却不是真正的关机。
- 可以选择是否要fsck检查文件系统。
  shutdown -h now #立刻关机，其中now相当于时间为0的状态
  shutdown -h 20：:25 #系统会在今天的20：:25分会关机，若在21：25才下达此指令，则隔天会关机
  shutdown -h +10 #系统再过10分钟后自动关机
  shutdown -r now #系统立刻重新开机
  shutdown -r +30 ‘The System will reboot’ #再过三十分钟会重新开机，并显示后面的讯息给所有线上的使用者
  shutdown -k now 'This system will reboot' #仅仅发出警告信件的参数，系统不会关机，只是用于吓唬人！

### 6、重新开机、关机：reboot,halt,poweroff

这三个指令调用的函数库都差不多，所以当使用man reboot时，会同时出现三个指令的用法一起。基本上，在默认的情况下，这三个指令都会完成一样的工作，所以只需要记住其中一个指令即可。值得注意的是，halt，poweroff,reboot,shutdown等等，都是在调用systemctl指令，这个指令跟关机的语法如下：
语法：systemctl [指令]
halt 进入系统停止的模式，屏幕可能会保留一些讯息，这与你的电源管理模式有关
poweroff 进入系统关机模式，直接关机没有提供电力喔！
reboot 直接重新开机
suspend 进入休眠模式

## 三、Linux的文件权限和目录配置
Linux最优秀的地方之一就在于他的多用户多任务环境。而为了让各个使用者具有保密的文件数据，因此文件的权限管理就变的很重要了。Linux一般将文件可存取的身份分为三个类别，分别是owner/group/others,且三种身份各有read/write/execute等权限。
在Linux系统当中，默认的情况下，所有的系统上的帐号与一般身份使用者，还有那个root的相关信息， 都是记录在/etc/passwd这个文件内的。至于个人的密码则是记录在/etc/shadow这个文件下。 此外，Linux所有的群组名称都纪录在/etc/group内，这三个文件可以说是Linux系统里面帐号、密码、群组信息的集中地。

### 1、如何改变文件属性与权限
文件权限对于一个系统的安全很重要，文件的权限事关使用者与群组的相关性，几个常用于群组、拥有者、各种身份的权限之修改的指令如下：
- chgrp:改变文件所属群组
- chown:改变文件拥有者
- chmod：改变文件的权限，SUID，SGID，SBIT等等的特性
  
改变文件所属群组，直接以chgrp来改变即可，这个指令就是change group的缩写。不过，更改群组权限的前提是群组名必须要在/etc/group文件内才行，否则会显示错误！

改变文件拥有者，同样直接以chown来改变，值得注意的是，使用者必须是已经存在系统中的账号，也就是在/etc/passwd这个文件中有记录的使用者名称才能改变。chown除了改变使用者之外，还可以直接修改群组的名称。此外，如果要连目录下的所有次目录或文件同时更改文件使用者的话，直接加上-R的选项即可。

语法：
- chown [-R] 账号名称 文件或目录
- chown [-R] 账号名称：群组名称 文件或目录

选项与参数：
-R：进行递回(recursive)的持续变更，亦即连同次目录下的所有文件都变更。

由于复制行为（cp）会复制执行者的属性和权限，如此以来，即使文件复制给其他使用者，也不一定能进行操作，这种情况下，就要通过chmod改变文件权限。权限的设置方法有两种，分别可以使用数字或者符号来进行权限的变更。
- 数字类型来改变权限
  Linux文件的基本权限就有9个，分别是owner/group/others三种身份各有自己的read/write/execute权限。这9个权限三个一组，其中我们可以用数字来代表个个权限，各权限的分数对照表如下：
  > r:4 
  > w:3 
  > x:1

变更权限的指令chmod语法是这样的： chmod [-R] xyz 文件或目录。
选项或参数：
xyz：数字类型的权限属性，为rwx属性数值的相加。
-R：进行递回（recursive）的持续变更，亦即连同次目录下的所有文件都会变更。

- 符号类型改变文件权限
  9个权限分别是(1)user，(2)group，(3)others三种身份，可以借由u，g，o来代表三种身份的权限，此外，a则代表all亦即全部的身份。那么读写权限就可以写成r，w，x了：
> | chmod | u g o a | +（加入） -（除去） =（设置） | r w x | 文件或目录 |

### 2、目录与文件权限的意义
- 权限对于文件的重要性
  文件是实际含有数据的地方，包括一般文本文件、数据库内容档，二进制可执行文件(binary program)等等。因此权限对于文件来说，它的意义是这样的：
  (1)r:可读取此一文件的实际内容，如读取文本文件的文字内容等。
  (2)w:可以编辑、新增或者是修改该文件的内容(但不含删除该文件。)
  (3)x：该文件具有可以被系统执行的权限。
其中可读r代表读取文件内容还比较好了解，可执行x，必须要注意，因为在windows系统下面是否具有可执行的能力是借由“扩展名”来判断的，比如.exe，.bat，.com等等。但是在Linux下面，文件是否能被执行则是借由是否具有“x”这个权限来决定，跟文件名是完全没有关系的。至于具有w权限，你可以具有写入、编辑、新增、修改文件的内容的权限，但并不具备删除该文件本身的权限。对于文件的rwx来说，主要都是针对“文件的内容而言”，与文件文件名的存在与否没有关系。因为文件记录的是实际的数据。

- 权限对目录的重要性
  文件是存放数据的所在，那么目录主要内容在记录文件名清单，文件名与目录有强烈的关联。针对目录，分别代表以下几种意义：
  (1)r：表示具有读取目录结构清单的权限，所以当你具有读取(r)一个目录的权限时，表示你可以查询该目录下的文件名数据。所以你就可以利用ls这个指令将该目录下的内容列表显示出来。
  (2)w：这个可写入的权限对目录来说，是很了不起的，因为它表示你具有异动该目录结构清单的权限，也就是可以创建新的文件和目录；删除已经存在的文件和目录（不论该文件的权限如何！）；将已存在的文件或目录进行更名；搬移该目录内的文件。目录位置。
  (3)x：目录只是记录文件名而已，是不会拿来执行的，目录的x代表的是使用者能是否进入该目录成为工作目录的用途！所谓的工作目录(work directory)就是你目前所在的目录。举例来说，当你登陆Linux时，你所在的主文件夹就是你当下的工作目录。而变换目录的指令就是"cd"（change directory）.

  综上所述，对一般文件而言，rwx主要是针对“文件的内容”来设计权限；对目录来说，rwx则是针对“目录内的文件名列表”来设计权限，对于能不能进入某一个目录，只与该目录的x权限有关，和是否具有r、w权限无关。

### 3、Linux文件种类和扩展名名
任何设备在Linux下面都是文件，一切皆是文件！

#### 文件类型如下：

- 正规文件（regular file ）： 就是一般我们在进行存取的类型的文件，在由 ls -al 所显示出来的属性方面，第一个字符为 [-]，例如 [-rwxrwxrwx ]。另外，依照文件的内容，又大略可以分为：纯文本文件（ASCII）、二进制档（binary）、数据格式文件（data）

- 目录（directory）： 就是目录啰～第一个属性为 [d]，例如 [drwxrwxrwx]。

- 链接文件（link）： 就是类似 Windows 系统下面的捷径啦！ 第一个属性为 [l]（英文 L 的小写），例如 [lrwxrwxrwx] ；

- 设备与设备文件（device）： 与系统周边及储存等相关的一些文件， 通常都集中在 / dev 这个目录之下！通常又分为两种：区块（block）设备文件、字符（character）设备文件。

- 数据接口文件（sockets）： 既然被称为数据接口文件， 想当然尔，这种类型的文件通常被用在网络上的数据承接了。我们可以启动一个程序来监听用户端的要求， 而用户端就可以通过这个 socket 来进行数据的沟通了。第一个属性为 [s]， 最常在 / run 或 / tmp 这些个目录中看到这种文件类型了。

- 数据输送档（FIFO, pipe）： FIFO 也是一种特殊的文件类型，他主要的目的在解决多个程序同时存取一个文件所造成的错误问题。 FIFO 是 first-in-first-out 的缩写。第一个属性为 [p]。

#### Linux文件扩展名
基本上，Linux的文件是没有所谓的“扩展名”的，一个Linux文件能不能被执行，与他的第一栏的十个属性有关， 与文件名根本一点关系也没有。这个观念跟Windows的情况不相同。在Windows下面， 能被执行的文件扩展名通常是 .com .exe .bat等等，而在Linux下面，只要你的权限当中具有x的话，例如[ -rwxr-xr-x ] 即代表这个文件具有可以被执行的能力。
常用的扩展名：

- *.sh ： 脚本或批处理文件 （scripts），批处理文件为使用shell写成的，扩展名就编成 .sh；

- Z, .tar, .tar.gz, .zip, *.tgz： 经过打包的压缩文件。这是因为压缩软件分别为 gunzip, tar 等等的，由于不同的压缩软件，而取其相关的扩展名；

- .html, .php：网页相关文件，分别代表 HTML 语法与 PHP 语法的网页文件 .html 的文件可使用网页浏览器来直接打开，至于 .php 的文件， 则可以通过 client 端的浏览器来 server 端浏览，以得到运算后的网页结果。

### 4、Linux目录配置
Linux目录配置的依据——FHS(Filesystem Hierarchy Standard)，FHS的重点在于规范每个特定的目录下应该放置什么样的数据，这样的好处非常多，这样Linux操作系统就能够在既有的面貌下（目录结构不变）发展出开发者想要的独特风格。

FHS是根据过去的经验一直再持续的改版的，FHS依据文件系统使用的频繁与否与是否允许使用者随意更动， 而将目录定义成为四种交互作用的形态:
- 可分享的：可以分享给其他系统挂载使用的目录，所以包括可执行文件与使用者的邮件等数据， 是能够分享给网络上其他主机挂载用的目录；
- 不可分享的：自己机器上面运行的设备文件或者是与程序有关的socket文件等， 由于仅与自身机器有关，所以当然就不适合分享给其他主机了。
- 不变的：有些数据是不会经常变动的，跟随着distribution而不变动。 例如函数库、文件说明文档、系统管理员所管理的主机服务配置文件等等；
- 可变动的：经常改变的数据，例如登录文件、一般用户可自行收受的新闻群组等。

事实上，FHS针对目录树架构仅定义出三层目录下面应该放置什么数据而已，分别是下面这三个目录的定义：
- / （root, 根目录）：与开机系统有关；
- /usr （unix software resource）：与软件安装/执行有关；
- /var （variable）：与系统运行过程有关。

## 四、Linux基础命令

### 1、显示日期和时间的命令：date
### 2、显示日历的命令：cal
在Debian系统中，初次安装后，在terminal界面输入cal，显示未找到此命令。解决办法：sudo apt-get install ncal
命令语法：cal [month] [year] 
### 3、简单好用的计算器：bc
退出bc界面用quit命令。
### 4、查看文件指令：ls 
